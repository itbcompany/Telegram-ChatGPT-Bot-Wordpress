# Telegram-ChatGPT-Bot-Wordpress
Техническая документация и инструкция к плагину
Введение
Этот плагин предназначен для интеграции с Telegram и ChatGPT, позволяя администраторам сайта управлять и обрабатывать сообщения через административную панель сайта. Он включает функции для отправки и получения сообщений, настройки вебхуков, логирования и администрирования через интерфейс.

Структура файлов плагина
telegram-chatgpt-bot.php: Логика взаимодействия с Telegram ботом.
includes/chatgpt-api.php: Основной файл для работы с API ChatGPT.
includes/logging.php: Модуль логирования запросов и ответов.
includes/settings.php: Файл для управления настройками плагина.
includes/webhook.php: Скрипт для обработки вебхуков.
assets/js/consultant.js: Скрипт для работы с интерфейсом консультанта.
assets/css/consultant.css: Стили для интерфейса консультанта.
admin/admin-page.php: Интерфейс административной панели.

Подробное описание функций и вебхуков
chatgpt-api.php
Основной файл для работы с API ChatGPT. Он содержит функции для отправки запросов и получения ответов от API.

Функции:

send_message($message): Отправка сообщения в ChatGPT и получение ответа.
get_response(): Обработка и возврат ответа от ChatGPT.

logging.php
Модуль для логирования всех запросов и ответов, обеспечивая возможность отладки и мониторинга.

Функции:

log_request($request): Логирование отправленного запроса.
log_response($response): Логирование полученного ответа.
get_logs(): Получение списка всех логов для просмотра.

settings.php
Файл настроек для управления конфигурацией плагина.

Параметры:

API_KEY: Ключ API для доступа к ChatGPT.
WEBHOOK_URL: URL вебхука для получения сообщений от Telegram.
webhook.php
Скрипт для обработки вебхуков от Telegram.

Функции:

handle_webhook(): Обработка входящих вебхуков и перенаправление сообщений в ChatGPT.
send_response($chat_id, $message): Отправка ответа обратно в Telegram.

telegram-chatgpt-bot.php
Основная логика для взаимодействия с Telegram ботом.

Функции:

send_message_to_telegram($chat_id, $message): Отправка сообщения в Telegram.
receive_message_from_telegram(): Обработка входящих сообщений от Telegram.

Инструкция по интерфейсу в административной части сайта

admin-page.php
Интерфейс административной панели предоставляет возможность настройки плагина и управления сообщениями.

Поля для заполнения:

API Key: Поле для ввода ключа API ChatGPT.
Webhook URL: Поле для ввода URL вебхука.
Log Viewer: Интерфейс для просмотра логов запросов и ответов.

Функциональные кнопки:
Сохранить настройки: Сохранение введенных настроек.
Очистить логи: Очистка всех логов.

Для того чтобы вывести консультанта на сайт, необходимо добавить следующий скрипт в футер сайта:

<!-- HTML -->
<div id="online-consultant">
    <div id="chat-header">Консультант</div>
    <div id="chat-messages"></div>
    <div id="chat-input">
        <input type="text" id="message-input" placeholder="Введите сообщение...">
        <button id="send-button">Отправить</button>
    </div>
</div>


Заключение
Эта документация описывает структуру и функциональность плагина, а также инструкции по его настройке и использованию. 
Если потребуется доработка, любой разработчик сможет легко разобраться в коде и внести необходимые изменения.
